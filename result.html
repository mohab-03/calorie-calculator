<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calorie Results</title>
  <style>
    body {
      background-color: #0e0e0e;
      color: white;
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 20px;
    }
    .result-box {
      background-color: #1f1f1f;
      padding: 20px;
      border-radius: 10px;
      width: 90%;
      max-width: 600px;
      margin: auto;
      box-shadow: 0 0 15px rgba(0, 255, 213, 0.3);
      margin-bottom: 20px;
    }
    h1 {
      color: #00ffd5;
      margin-bottom: 20px;
    }
    p, ul {
      text-align: left;
      padding: 0 10px;
    }
    button {
      padding: 10px 20px;
      background-color: #00ffd5;
      color: #000;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      margin-top: 10px;
      font-weight: bold;
    }
    footer {
      margin-top: 40px;
      font-size: 12px;
      color: black;
      background-color: #00ffd5;
      padding: 6px;
      border-radius: 6px;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
    }
  </style>
  <script>
    function getQueryParams() {
      const params = new URLSearchParams(window.location.search);
      return {
        weight: parseFloat(params.get('weight')),
        height: parseFloat(params.get('height')),
        age: parseInt(params.get('age')),
        gender: params.get('gender'),
        activity: params.get('activity'),
      };
    }

    function calculateCalories(data) {
      const { weight, height, age, gender, activity } = data;
      let bmr;
      if (gender === 'male') {
        bmr = 10 * weight + 6.25 * height - 5 * age + 5;
      } else {
        bmr = 10 * weight + 6.25 * height - 5 * age - 161;
      }
      const activityMultipliers = {
        sedentary: 1.2,
        light: 1.375,
        moderate: 1.55,
        active: 1.725,
        very_active: 1.9,
      };
      const maintenanceCalories = bmr * (activityMultipliers[activity] || 1.2);
      return {
        maintenance: Math.round(maintenanceCalories),
        bulkLight: Math.round(maintenanceCalories * 1.1),
        bulkModerate: Math.round(maintenanceCalories * 1.2),
        bulkAggressive: Math.round(maintenanceCalories * 1.3),
        cutLight: Math.round(maintenanceCalories * 0.9),
        cutModerate: Math.round(maintenanceCalories * 0.8),
        cutAggressive: Math.round(maintenanceCalories * 0.7),
      };
    }

    function showMacros(calories) {
      const protein = Math.round((calories * 0.3) / 4);
      const carbs = Math.round((calories * 0.4) / 4);
      const fats = Math.round((calories * 0.3) / 9);
      return `<p><strong>Macros:</strong><br>Protein: ${protein}g | Carbs: ${carbs}g | Fats: ${fats}g</p>`;
    }

    function displayResults() {
      const data = getQueryParams();
      if (!data.weight || !data.height || !data.age || !data.gender || !data.activity) {
        document.getElementById('results').innerHTML = "<p style='color:red;'>Missing or invalid data. Please go back and fill all fields.</p>";
        return;
      }
      const calories = calculateCalories(data);
      document.getElementById('results').innerHTML = `
        <div class="result-box">
          <h2>Maintenance Calories</h2>
          <p>${calories.maintenance} kcal</p>
          ${showMacros(calories.maintenance)}
        </div>
        <div class="result-box">
          <h2>Bulking Calories</h2>
          <ul>
            <li>Light Bulk: ${calories.bulkLight} kcal ${showMacros(calories.bulkLight)}</li>
            <li>Moderate Bulk: ${calories.bulkModerate} kcal ${showMacros(calories.bulkModerate)}</li>
            <li>Aggressive Bulk: ${calories.bulkAggressive} kcal ${showMacros(calories.bulkAggressive)}</li>
          </ul>
        </div>
        <div class="result-box">
          <h2>Cutting Calories</h2>
          <ul>
            <li>Light Cut: ${calories.cutLight} kcal ${showMacros(calories.cutLight)}</li>
            <li>Moderate Cut: ${calories.cutModerate} kcal ${showMacros(calories.cutModerate)}</li>
            <li>Aggressive Cut: ${calories.cutAggressive} kcal ${showMacros(calories.cutAggressive)}</li>
          </ul>
        </div>
      `;
    }
    window.onload = displayResults;
  </script>
</head>
<body>
  <h1>Calorie Results</h1>
  <div id="results"></div>
  <footer>
    Made by Mohab (Instagram: r4_ce)
  </footer>
</body>
</html>
